# 数理計画法のオプション課題  
これは数理計画法で出題されるオプション課題を解くことを目的としたプロジェクトです．

<details>
  <summary>043.c : グリーディ法を用いたナップザック問題</summary>
  
### グリーディ法（貪欲法）
その時点で最も良い（最適に見える）選択を繰り返すことで最終的な解を求めるアルゴリズムの手法
最適解になるとは限らない．

- **最適解でない理由**  
ある金額を硬貨で払うとき，大きなものから払っていく．  
{10, 7, 1} の硬貨があるとき，14円の払い方は {10, 1, 1, 1, 1}．  
これは，最適解ではない．（最適解は {7, 7}である．

### 実装
貪欲法なので，アイテムごとの重量あたりの価値を計算する必要がある．
また，それらをソートして降順で選択する必要がある．
```c
typedef struct {
    int index; // 元のアイテムのインデックス
    int size; // サイズ
    int value; // 価値
    double ratio; // 価値/サイズ
} Item;
```
このようにアイテム構造体の中に元のインデックスを保持することで，ソート後でも選択したアイテムを把握できる．
  
</details>

<details>
  <summary>044.c : 局所探索法．2-opt法を用いた巡回セールスマン問題  </summary>
  
### 局所探索法
  現在の解の周り（近傍）を見渡し，より良い解に遷移していく最適化手法．
  当たり前だが，最適解になるとは限らない．

- **最適解でない具体例**  
山を登ることを想定する．  
現在の地点から上を目指すとき，10歩以内で登れる最適地点を探し上る．それを繰り返し頂上を示す．  
実際には少し遠回りしたほうが，総コスト（耐力）を消耗せずに登れるかもしれない．  

### 実装
都市を一筆書きするとき，コストが最小となるようなルートを探すときに用いられる初歩的なアルゴリズムである**2-opt**法を用いる．  

はじめ，適当なルートを生成する.  
その中のに変を選び，頂点を交換する.  
```
- A - B -        - A   B -
            ->       X
- C - D -        - C   D -
```
もし，これがコストが低くなるなら，ルートを更新する.  
更新がなければ終了する.  

</details>
<details><summary>045.c : セービング法を用いた配送経路計画問題  </summary>

### セービング法
配送の総移動距離を最適化する貪欲法の一種．もちろんこれも最適解を保証しない．

- **最適解でない具体例**  
  簡潔に言うと，二点間を順に統合していくからである．  
  言い換えると，2つ配達地点に行くと必ず倉庫に戻る必要がある．  
  3.4...と配達地点分探索すれば勿論最適解は得られるが，それでは計算量が...  
  そもそも，貪欲法の一種であることを忘れてはいけない．  
  

### 実装

1. **初期ルート作成**
   - 各顧客に対して個別のルート（拠点 → 顧客 → 拠点）を作成.

2. **セービング（Saving）の計算**
   - 顧客 i, j を1つのルートにまとめたときに節約できるコストを以下で計算：
     ```
     S(i, j) = d(0, i) + d(0, j) - d(i, j)
     ```

3. **セービングの降順で並べる**
   - 節約効果が大きい組み合わせから順に処理.

4. **ルートの統合**
   - 条件（トラックの容量など）を満たす場合にルートを統合.

5. **繰り返し**
   - 全ての顧客を統合し終えるまで繰り返す.
     
</details>
